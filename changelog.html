<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Changelog - TheTycoon Tools</title>
    <!-- Title and favicon will be set by site-config.js -->
    <!-- Bootstrap CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <!-- Custom CSS -->
    <link href="css/styles.css" rel="stylesheet">
    <!-- Base CSS (load order matters) -->
    <link href="css/base/variables.css" rel="stylesheet">
    <link href="css/base/common.css" rel="stylesheet">
    <link href="css/base/responsive.css" rel="stylesheet">
    <!-- Page-specific CSS -->
    <link href="css/pages/changelog.css" rel="stylesheet">
</head>
<body>
    <!-- Navbar is injected by js/navbar.js -->

    <main class="container py-5">
        <div class="text-center mb-5">
            <h1 class="glow-text">Changelog</h1>
            <p class="lead">Summary of updates and improvements across all TheTycoon tools.</p>
        </div>
        <div class="row">
            <div class="col-lg-8 mx-auto">
                <!-- ===================================================================================== -->
                <!-- CHANGELOG ENTRIES                                                                  -->
                <!--                                                                                     -->
                <!-- To add a new entry:                                                                -->
                <!-- 1. Copy one entire <article class="changelog-entry">...</article> block below.     -->
                <!-- 2. Paste it ABOVE the existing entries so newest changes are at the top.           -->
                <!-- 3. Update the version, date, and bullet points with your notes.                    -->
                <!--                                                                                     -->
                <!-- You only need to edit TEXT inside the tags; do not change the structure.           -->
                <!-- ===================================================================================== -->

                <section id="changelog" class="mb-5">
                    <h2 class="mb-4 text-center">Release Notes</h2>

                    <!-- Latest Entry -->                  
                    <article class="changelog-entry mb-4">
                        <div class="card">
                            <div class="card-body">
                                <h3 class="card-title mb-1">Version 1.0.5</h3>
                                <p class="text-muted mb-3">2026-01-22</p>
                                <ul class="mb-0">
                                    <li><strong>Logistics - Default Licenses:</strong> Added automatic default license loading functionality. When the licenses section is first accessed with no data in localStorage, the system now automatically loads 8 default licenses (Hazmat Classes 1-8, Heavy Cargo, and High Value Cargo) and saves them to localStorage.</li>
                                    <li><strong>Logistics - License Auto-Population:</strong> Modified <code>loadLicenses()</code> function in <code>logistics-licenses-api.js</code> to check if the licenses array is empty after loading from localStorage. If empty, it automatically populates with default licenses and saves them, ensuring users always have a starting set of licenses available.</li>
                                    <li><strong>Logistics - Default License Data:</strong> Added <code>DEFAULT_LICENSES</code> constant containing 8 pre-configured licenses with proper IDs, names, levels, prices, and display order. Default licenses include all Hazmat classes (1, 2, 3, 4, 6, 8) plus Heavy Cargo and High Value Cargo licenses.</li>
                                    <li><strong>Logistics - Company Reputation Export/Import:</strong> Added modular export/import functionality for company reputation data. Created <code>logistics-profile-export-import.js</code> module supporting JSON file download/upload and paste-in-textarea import. Includes "Replace" and "Merge" import modes with comprehensive debugging.</li>
                                    <li><strong>Logistics - Licenses Export/Import:</strong> Added modular export/import functionality for license data. Created <code>logistics-licenses-export-import.js</code> module supporting JSON file download/upload and paste-in-textarea import. Includes "Replace" and "Merge" import modes with format validation for multiple JSON structures.</li>
                                    <li><strong>Logistics - Export/Import UI:</strong> Added collapsible "Export/Import Company Reputation" and "Export/Import Licenses" sections to <code>logistics.html</code> with file upload buttons, JSON paste textareas, and import mode radio buttons (Replace/Merge).</li>
                                    <li><strong>Logistics - License Template:</strong> Created <code>licenses-template.json</code> file containing 8 default licenses (Hazmat Classes 1-8, Heavy Cargo, High Value Cargo) for reference and import purposes.</li>
                                    <li><strong>Logistics - Storage Migration:</strong> Converted logistics page from MySQL API-based storage to localStorage. All data (companies, licenses, jobs, config) now persists locally in the browser using the unified <code>LogisticsStorage</code> API.</li>
                                    <li><strong>Logistics - Storage Module:</strong> Created <code>logistics-storage.js</code> module providing unified localStorage operations with read/write/update functions for all logistics data types. Includes migration support from legacy localStorage keys.</li>
                                    <li><strong>Logistics - API Conversion:</strong> Rewrote <code>logistics-profile-api.js</code> and <code>logistics-licenses-api.js</code> to use localStorage instead of API calls. Removed all <code>fetch</code> operations and CORS-related code. All data operations now use <code>LogisticsStorage</code> API.</li>
                                    <li><strong>Logistics - Debug Manager Integration:</strong> Updated <code>logistics-main.js</code> to properly initialize DebugManager with options object instead of positional arguments, fixing initialization errors.</li>
                                    <li><strong>Fishing Management - Storage Migration (WIP):</strong> Converted fishing management page from MySQL API-based storage to localStorage with JSON saving. All data now persists locally in the browser.</li>
                                    <li><strong>Fishing Management - Default Data:</strong> Added default fishing locations (10 locations) and default fishing rewards (11 rewards) that automatically load on first use. Data includes locations like Del Perro Pier, Paleto Cove, and rewards from Dinghy (Small) to Patrol Boat.</li>
                                    <li><strong>Fishing Management - Storage Module:</strong> Created <code>fishing-storage.js</code> module following the same pattern as logistics storage, providing unified localStorage operations with read/write/update functions.</li>
                                    <li><strong>Fishing Management - Core Updates:</strong> Updated <code>fishing-core.js</code> and <code>fishing-fish-core.js</code> to use localStorage instead of API calls. Removed all async/await operations since localStorage is synchronous.</li>
                                    <li><strong>Fishing Management - UI Updates:</strong> Updated all UI functions in <code>fishing-ui.js</code> to work with synchronous localStorage operations. Removed async/await keywords from all functions.</li>
                                    <li><strong>Fishing Management - Default Data Templates:</strong> Added "Default Data Templates" section to the "How to Use" tab with copyable JSON for default locations and rewards, allowing users to easily reference or import the default data.</li>
                                    <li><strong>Fishing Management - Copy Functionality:</strong> Added <code>copyFishingJson()</code> function with clipboard API support and fallback for older browsers, enabling easy copying of JSON templates.</li>
                                    <li><strong>Fishing Management - Page Structure:</strong> Updated <code>fishing.html</code> to include base CSS files (variables, common, responsive) and proper script loading order matching other pages in the project.</li>
                                    <li><strong>Import/Export - Fishing Support:</strong> Added fishing page support to the centralized import/export page. Fishing data can now be exported and imported alongside Checklist, Apartments, and Education.</li>
                                    <li><strong>Import/Export - Logistics Support (WIP):</strong> Added logistics page support to the centralized import/export page. Logistics data can now be exported and imported, though full functionality is still being developed.</li>
                                    <li><strong>Import/Export - Storage Integration:</strong> Updated <code>import-export-core.js</code> to use <code>FishingStorage.read()</code> and <code>LogisticsStorage.read()</code> APIs, ensuring default data is included in exports even if not yet saved.</li>
                                    <li><strong>Import/Export - Status Cards:</strong> Added fishing and logistics to the data status cards on the import/export page, showing data summaries, last modified timestamps, and hash values.</li>
                                    <li><strong>Import/Export - Script Loading:</strong> Added <code>fishing-storage.js</code> and <code>logistics-storage.js</code> to <code>import.html</code> to ensure storage APIs are available before import/export operations.</li>
                                    <li><strong>Note - WIP Status:</strong> Fishing and Logistics features are marked as Work In Progress (WIP). Core functionality is implemented, but additional features and refinements may be added in future updates.</li>
                                </ul>
                            </div>
                        </div>
                    </article>

                    <!-- Previous Entry -->                  
                    <article class="changelog-entry mb-4">
                        <div class="card">
                            <div class="card-body">
                                <h3 class="card-title mb-1">Version 1.0.4</h3>
                                <p class="text-muted mb-3">2025-01-15</p>
                                <ul class="mb-0">
                                    <li><strong>New Feature - Import/Export Page:</strong> Created centralized <code>import.html</code> page for managing data across all pages. Users can now export and import data for Checklist, Apartments, and Education Timer in a single unified interface.</li>
                                    <li><strong>Import/Export - Format Detection:</strong> Implemented automatic JSON format detection that recognizes existing export formats from individual pages (checklist, apartments, unified format, etc.) for seamless data migration.</li>
                                    <li><strong>Import/Export - Hash-Based Change Detection:</strong> Added hash comparison system to detect "new data" indicators, showing users when their data has been modified since last export.</li>
                                    <li><strong>Import/Export - Export Options:</strong> Supports both single-file export (all data in one JSON) and separate-file export (individual JSON files per page) for flexible backup strategies.</li>
                                    <li><strong>Import/Export - Import Modes:</strong> Added "Replace" and "Merge" import modes, allowing users to either completely replace existing data or merge new data with existing entries.</li>
                                    <li><strong>Import/Export - Debug Support:</strong> Integrated DebugManager with comprehensive logging for all import/export operations, format detection, and data processing steps.</li>
                                    <li><strong>Import/Export - Page Exclusion System:</strong> Implemented configurable page exclusion toggle. Merchants and Vehicle Deliveries are excluded by default (can be toggled in code via <code>EXCLUDED_PAGES</code> array).</li>
                                    <li><strong>Import/Export - UI Features:</strong> Added data status cards showing data counts, last modified timestamps, hash values, and "New Data" badges for each page.</li>
                                    <li><strong>Import/Export - File Handling:</strong> Supports both file upload and paste-in-textarea methods for importing JSON data with automatic format detection.</li>
                                    <li><strong>Navigation - Import/Export Link:</strong> Added "üì• Import / Export" link to navbar, positioned to the left of the Business dropdown menu for easy access.</li>
                                    <li><strong>Configuration - Import Page Registration:</strong> Updated <code>config-data.js</code> to include <code>import.html</code> in page titles, hero sections, and version tracking.</li>
                                    <li><strong>Code Organization - Modular Architecture:</strong> Created three new JavaScript modules for import/export functionality: <code>import-export-core.js</code> (data management), <code>import-export-ui.js</code> (UI rendering), and <code>import-export-init.js</code> (initialization).</li>
                                    <li><strong>Code Organization - CSS Styling:</strong> Added <code>import-export.css</code> for page-specific styling including data status cards, format detection indicators, and status messages.</li>
                                    <li><strong>Apartment - Export/Import Collapse Feature:</strong> Added collapsible functionality to the Export/Import section within the "Select Apartment" card. Users can now collapse/expand this section, with state persistence in localStorage. Matches the behavior of the "How to Use This Page" section.</li>
                                    <li><strong>Apartment - Reviews Modal Fix:</strong> Fixed issue where the reviews modal close button wasn't working properly. Changed from creating new Bootstrap Modal instances to using <code>getOrCreateModal()</code> helper function, ensuring proper modal instance reuse and correct event handling.</li>
                                    <li><strong>Apartment - Modal Instance Management:</strong> Updated all modal creation calls in <code>apartment-modals.js</code> to use <code>getOrCreateModal()</code> instead of <code>new bootstrap.Modal()</code> for consistent modal behavior across apartment management, reviews, and export/import modals.</li>
                                    <li><strong>Apartment - Syntax Error Fix:</strong> Fixed missing ternary operator fallback in <code>apartment-ui.js</code> that was causing "Unexpected token '}'" error when rendering reviews. Added proper <code>: ''</code> fallback for cases where reviews array is empty or undefined.</li>
                                </ul>
                            </div>
                        </div>
                    </article>
                    
                    <article class="changelog-entry mb-4">
                        <div class="card">
                            <div class="card-body">
                                <h3 class="card-title mb-1">Version 1.0.3</h3>
                                <p class="text-muted mb-3">2026-01-13</p>
                                <ul class="mb-0">
                                    <li><strong>Checklist - Emoji Picker Refactoring:</strong> Created shared emoji picker module (<code>js/pages/checklist/emoji-picker.js</code>) to centralize emoji picker functionality and remove ~475 lines of duplicate inline HTML from <code>checklist.html</code> and <code>checklist-1.html</code>.</li>
                                    <li><strong>Checklist - Code Cleanup:</strong> Removed all leftover inline emoji HTML from both checklist pages. Emoji picker is now dynamically generated via JavaScript for improved maintainability.</li>
                                    <li><strong>Checklist - Summary Calculation Fix:</strong> Fixed console warnings for tiers with no businesses. Updated <code>calculateTierSummary()</code> to gracefully handle tiers without businesses and skip unnecessary calculations.</li>
                                    <li><strong>Checklist - Performance:</strong> Optimized summary calculation by checking for businesses before processing, reducing unnecessary DOM queries and function calls.</li>
                                </ul>
                            </div>
                        </div>
                    </article>
                    
                    <article class="changelog-entry mb-4">
                        <div class="card">
                            <div class="card-body">
                                <h3 class="card-title mb-1">Version 1.0.2</h3>
                                <p class="text-muted mb-3">2026-01-12</p>
                                <ul class="mb-0">
                                    <li>Added config-driven hero sections to all pages for centralized management.</li>
                                    <li>Standardized hero section styling and structure across all HTML pages.</li>
                                    <li>Updated script loading order in changelog.html to match apartment.html pattern (theme.js loads before config files).</li>
                                    <li>Adjusted time display width to match "How to Use This Page" card width in merchants and education timer pages.</li>
                                    <li>Standardized navbar injection comments across all pages.</li>
                                    <li>Implemented modular CSS architecture across all pages for improved maintainability.</li>
                                    <li>Created base CSS files (variables.css, common.css, responsive.css) for shared styles and components.</li>
                                    <li>Extracted all inline styles to external CSS files organized by page.</li>
                                    <li>Added page-specific CSS files for checklist, merchants, apartment, education timer, vehicle deliveries, info pages, changelog, and index.</li>
                                    <li>Established primary/variant CSS structure for checklist and info page pairs (checklist.html/checklist-1.html, Info.html/Info-Ref.html).</li>
                                    <li>Removed all inline &lt;style&gt; blocks from HTML files, improving code organization and browser caching.</li>
                                    <li>Added comprehensive documentation comments to all CSS files explaining purpose, usage, and update instructions.</li>
                                    <li>Updated all HTML pages to load CSS in correct cascade order (base ‚Üí page-base ‚Üí page-specific ‚Üí variant-specific).</li>
                                    <li>Fixed apartment page initialization errors - corrected initNumberFormatting function calls to use window.NumberFormatter.initNumberFormatting instead of window.initNumberFormatting.</li>
                                    <li>Fixed apartment modals duplicate declaration error - removed duplicate formatDateDDMMMYYYYWithTime constant declaration.</li>
                                    <li>Fixed apartment page missing function exports - ensured all export/import functions (exportAll, loadApartmentData, exportTimers, etc.) are properly exported to global scope.</li>
                                    <li>Fixed education timer parseAndSave functionality - synchronized window.trainings reference after all data modifications to ensure renderTimers() displays correctly.</li>
                                    <li>Optimized merchants page performance - throttled localStorage saves to every 30 seconds and re-renders to every 10 seconds, reducing excessive DOM operations and improving click handler performance.</li>
                                    <li>Fixed merchants page duplicate setInterval calls - consolidated multiple timer initialization blocks into a single initializePage() function.</li>
                                    <li>Fixed VehicleDeliveries.html duplicate theme.js script tag and corrected script loading order.</li>
                                    <li>Created apartments-import.json template file - added sample import file with example apartment data structure for easy testing and reference.</li>
                                    <li><strong>Checklist - Emoji Picker Refactoring:</strong> Created shared emoji picker module (<code>js/pages/checklist/emoji-picker.js</code>) to centralize emoji picker functionality and 
                                    <li><strong>Checklist - Code Cleanup:</strong> Removed all leftover inline emoji HTML from both checklist pages. Emoji picker is now dynamically generated via JavaScript for improved mainta
                                    <li><strong>Checklist - Summary Calculation Fix:</strong> Fixed console warnings for tiers with no businesses. Updated <code>calculateTierSummary()</code> to gracefully handle tiers without
                                    <li><strong>Checklist - Performance:</strong> Optimized summary calculation by checking for businesses before processing, reducing unnecessary DOM queries and function calls.</li>       
                                    <li>Credits to <strong>Brooks</strong> for testing and providing feedback on the changes.</li>
                                </ul>
                            </div>
                        </div>
                    </article>
                    
                    <article class="changelog-entry mb-4">
                        <div class="card">
                            <div class="card-body">
                                <h3 class="card-title mb-1">Version 1.0.1</h3>
                                <p class="text-muted mb-3">2026-01-08</p>
                                <ul class="mb-0">
                                    <li>Fixed how internal things worked.</li>
                                    <li>Replaced the broken "How to Use This Page" section with a new "How to Use This Page" section.</li>
                                    <li>Fixed Summaries on the Checklist page.</li>
                                    <li>Fixed Checklist Editing Products.</li>
                                    <li>Fixed Checklist Editing Business</li>
                                    <li>Added a feedback form to the changelog page.</li>
                                </ul>
                            </div>
                        </div>
                    </article>

                    <article class="changelog-entry mb-4">
                        <div class="card">
                            <div class="card-body">
                                <h3 class="card-title mb-1">Version 1.0.0</h3>
                                <p class="text-muted mb-3">2026-01-06</p>
                                <ul class="mb-0">
                                    <li>Initial public changelog page created.</li>
                                    <li>Added section to embed an external feedback form for updates.</li>
                                </ul>
                            </div>
                        </div>
                    </article>

                    <!-- Older entries go here. Copy/paste the <article> above and edit as needed. -->

                </section>

                <!-- ===================================================================================== -->
                <!-- FEEDBACK / FORM EMBED SECTION                                                       -->
                <!--                                                                                     -->
                <!-- This section is designed for pasting in an external form (Google Forms, Typeform,   -->
                <!-- etc.). You can also remove the example and keep only your real embed code.          -->
                <!--                                                                                     -->
                <!-- HOW TO USE:                                                                         -->
                <!-- - Google Forms:                                                                     -->
                <!--     1. In Google Forms, click \"Send\" -> \"<>\" (Embed HTML).                       -->
                <!--     2. Copy the <iframe> HTML code.                                                 -->
                <!--     3. Paste it inside the -->
                <!--        FORM EMBED START --> 
                <!--        area below.             -->
                <!-- - Typeform or other services:                                                       -->
                <!--     1. Copy the embed code they provide (iframe or script).                         -->
                <!--     2. Paste it in the same spot.                                                   -->
                <!-- ===================================================================================== -->

                <section id="feedback-form" class="mb-5">
                    <h2 class="mb-3 text-center">Feedback & Suggestions</h2>
                    <p class="text-center mb-4">
                        <strong>TheTycoon - Fire0x Tools</strong> is a comprehensive web-based toolkit designed to help players manage their businesses, track progress, and optimize their gameplay experience in <strong>The Tycoon</strong> game.
                    </p>
                    <p class="text-center mb-4">
                        This website provides various tools including:
                    </p>
                    <ul class="list-unstyled text-center mb-4" style="max-width: 600px; margin: 0 auto;">
                        <li class="mb-2">üìã <strong>Business Checklist</strong> - Track businesses across tiers with stock calculations, product management, and summaries</li>
                        <li class="mb-2">üõí <strong>Traveling Merchants</strong> - Monitor merchant rotations, locations, prices, and timers</li>
                        <li class="mb-2">üöö <strong>Vehicle Deliveries</strong> - Track vehicle delivery progress and unlock requirements</li>
                        <li class="mb-2">üéì <strong>Education Timer</strong> - Monitor education and training timers with real-time countdowns</li>
                        <li class="mb-2">üè† <strong>Apartment Management</strong> - Manage apartment-related tasks and tracking</li>
                    </ul>
                    <p class="text-center mb-4">
                        We value your feedback! Use the form below to report bugs, suggest new features, share ideas for improvements, or provide general feedback about any of the tools on this website. Your input helps us make TheTycoon tools better for everyone.
                    </p>

                    <div class="card">
                        <div class="card-body">
                            <!-- FORM EMBED START -->
                            <!--
                                Replace this example box with your real form embed.

                                Example: Google Forms iframe (paste your own here)

                                <iframe src="YOUR_GOOGLE_FORM_EMBED_URL"
                                        width="100%"
                                        height="800"
                                        frameborder="0"
                                        marginheight="0"
                                        marginwidth="0">
                                    Loading‚Ä¶
                                </iframe>

                                Example: Typeform embed (paste full script snippet)

                                <div data-tf-live="YOUR_TYPEFORM_ID"></div>
                                <script src="https://embed.typeform.com/next/embed.js"></script>
                            -->
                            <iframe src="https://docs.google.com/forms/d/e/1FAIpQLSc1-mo-O-b-gluemHq49iyC7ieEl2n0E5ldQFp1uq71M7J5pw/viewform?embedded=true" 
                                    width="100%" 
                                    height="800" 
                                    frameborder="0" 
                                    marginheight="0" 
                                    marginwidth="0">
                                Loading‚Ä¶
                            </iframe>
                            <!-- FORM EMBED END -->
                        </div>
                    </div>
                </section>

                <!-- Optional additional notes section -->
                <section class="mb-5">
                    <div class="card">
                        <div class="card-body">
                            <h2 class="card-title">How this page works</h2>
                            <p class="mb-2">
                                This page is completely static and uses only HTML and Bootstrap styling. To update it:
                            </p>
                            <ol class="mb-0">
                                <li>Open <code>changelog.html</code> in a text editor.</li>
                                <li>Copy an existing changelog <code>&lt;article class=\"changelog-entry\"&gt;</code> block and edit the text.</li>
                                <li>Paste external form embed code into the Feedback &amp; Suggestions section when you are ready.</li>
                            </ol>
                        </div>
                    </div>
                </section>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-light py-3">
        <div class="container text-center">
            <div id="version-display" class="mt-2" style="font-size: 0.875rem; color: #6c757d;">
                <!-- Version will be inserted here by site-config.js -->
            </div>
        </div>
    </footer>

    <!-- Bootstrap JS -->
    <script src="js/bootstrap.bundle.min.js"></script>
    <!-- Theme JS -->
    <script src="js/theme.js"></script>
    <!-- Site Configuration & Version Manager (load in order) -->
    <script src="js/config/config-data.js"></script>
    <script src="js/config/site-config.js"></script>
    <script src="js/config/version-manager.js"></script>
    <script src="js/site-config.js"></script>
    <!-- Navbar Manager -->
    <script src="js/navbar.js"></script>
</body>
</html>


