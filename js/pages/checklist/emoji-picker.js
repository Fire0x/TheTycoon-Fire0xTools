// ============================================================================
// SHARED EMOJI PICKER MODULE
// ============================================================================

(function() {
    'use strict';

    // Emoji data organized by category
    const emojiData = {
        special: {
            name: 'â­ Special',
            emojis: [
                { emoji: 'ğŸ¨', title: 'Koala', search: 'koala' },
                { emoji: 'ğŸ´', title: 'Horse', search: 'horse' },
                { emoji: 'ğŸ‘¨', title: 'Dad', search: 'dad father' },
                { emoji: 'ğŸŒ™', title: 'Luna', search: 'luna moon' },
                { emoji: 'ğŸšš', title: 'Truck', search: 'Truck' }
            ]
        },
        food: {
            name: 'ğŸ” Food & Drink',
            emojis: [
                { emoji: 'ğŸ', title: 'Apple' },
                { emoji: 'ğŸŠ', title: 'Orange' },
                { emoji: 'ğŸŒ', title: 'Banana' },
                { emoji: 'ğŸ‡', title: 'Grapes' },
                { emoji: 'ğŸ“', title: 'Strawberry' },
                { emoji: 'ğŸ¥', title: 'Kiwi' },
                { emoji: 'ğŸ‰', title: 'Watermelon' },
                { emoji: 'â˜•', title: 'Coffee' },
                { emoji: 'ğŸµ', title: 'Tea' },
                { emoji: 'ğŸ”', title: 'Burger' },
                { emoji: 'ğŸŒ­', title: 'Hot Dog' },
                { emoji: 'ğŸŒ®', title: 'Taco' },
                { emoji: 'ğŸŒ¯', title: 'Burrito' },
                { emoji: 'ğŸ•', title: 'Pizza' },
                { emoji: 'ğŸ—', title: 'Chicken' },
                { emoji: 'ğŸ–', title: 'Meat on Bone' },
                { emoji: 'ğŸ°', title: 'Cake' },
                { emoji: 'ğŸ§', title: 'Cupcake' },
                { emoji: 'ğŸª', title: 'Cookie' },
                { emoji: 'ğŸ©', title: 'Donut' },
                { emoji: 'ğŸ¥¤', title: 'Drink' },
                { emoji: 'ğŸº', title: 'Beer' },
                { emoji: 'ğŸ·', title: 'Wine' },
                { emoji: 'ğŸ¥‚', title: 'Cheers' },
                { emoji: 'ğŸŸ', title: 'Fish' },
                { emoji: 'ğŸ¦', title: 'Shrimp' },
                { emoji: 'ğŸ¦', title: 'Lobster' },
                { emoji: 'ğŸ¦€', title: 'Crab' },
                { emoji: 'ğŸ¥©', title: 'Meat' },
                { emoji: 'ğŸ¥“', title: 'Bacon' },
                { emoji: 'ğŸŒ¾', title: 'Wheat' },
                { emoji: 'ğŸŒ½', title: 'Corn' },
                { emoji: 'ğŸ¥•', title: 'Carrot' },
                { emoji: 'ğŸ¥”', title: 'Potato' },
                { emoji: 'ğŸ¥¬', title: 'Leafy Green' },
                { emoji: 'ğŸ¥’', title: 'Cucumber' },
                { emoji: 'ğŸ¥‘', title: 'Avocado' },
                { emoji: 'ğŸ', title: 'Bread' },
                { emoji: 'ğŸ¥', title: 'Croissant' },
                { emoji: 'ğŸ¥¨', title: 'Pretzel' },
                { emoji: 'ğŸ§€', title: 'Cheese' },
                { emoji: 'ğŸ¥š', title: 'Egg' },
                { emoji: 'ğŸ¥›', title: 'Milk' },
                { emoji: 'ğŸ¥', title: 'Pancakes' },
                { emoji: 'ğŸ§‡', title: 'Waffle' },
                { emoji: 'ğŸ¥¯', title: 'Bagel' },
                { emoji: 'ğŸ¥–', title: 'Baguette' },
                { emoji: 'ğŸ¥ª', title: 'Sandwich' },
                { emoji: 'ğŸ¥™', title: 'Stuffed Flatbread' },
                { emoji: 'ğŸ§†', title: 'Falafel' },
                { emoji: 'ğŸ¥˜', title: 'Shallow Pan of Food' },
                { emoji: 'ğŸ²', title: 'Pot of Food' },
                { emoji: 'ğŸ±', title: 'Bento Box' },
                { emoji: 'ğŸ˜', title: 'Rice Cracker' },
                { emoji: 'ğŸ™', title: 'Rice Ball' },
                { emoji: 'ğŸš', title: 'Cooked Rice' },
                { emoji: 'ğŸ›', title: 'Curry Rice' },
                { emoji: 'ğŸœ', title: 'Steaming Bowl' },
                { emoji: 'ğŸ', title: 'Spaghetti' },
                { emoji: 'ğŸ ', title: 'Roasted Sweet Potato' },
                { emoji: 'ğŸ¢', title: 'Oden' },
                { emoji: 'ğŸ£', title: 'Sushi' },
                { emoji: 'ğŸ¤', title: 'Fried Shrimp' },
                { emoji: 'ğŸ¥', title: 'Fish Cake' },
                { emoji: 'ğŸ¥®', title: 'Moon Cake' },
                { emoji: 'ğŸ¡', title: 'Dango' },
                { emoji: 'ğŸ¥Ÿ', title: 'Dumpling' },
                { emoji: 'ğŸ¥ ', title: 'Fortune Cookie' },
                { emoji: 'ğŸ¥¡', title: 'Takeout Box' },
                { emoji: 'ğŸ§ˆ', title: 'Butter' },
                { emoji: 'ğŸ§‚', title: 'Salt' },
                { emoji: 'ğŸ¥œ', title: 'Peanuts' },
                { emoji: 'ğŸŒ°', title: 'Chestnut' },
                { emoji: 'ğŸ¯', title: 'Honey Pot' },
                { emoji: 'ğŸ¥„', title: 'Spoon' },
                { emoji: 'ğŸ´', title: 'Fork and Knife' },
                { emoji: 'ğŸ½ï¸', title: 'Fork and Knife with Plate' },
                { emoji: 'ğŸ¥£', title: 'Bowl with Spoon' },
                { emoji: 'ğŸ¥ƒ', title: 'Tumbler Glass' },
                { emoji: 'ğŸ§ƒ', title: 'Beverage Box' },
                { emoji: 'ğŸ§‰', title: 'Mate' },
                { emoji: 'ğŸ§Š', title: 'Ice' }
            ]
        },
        buildings: {
            name: 'ğŸ¢ Buildings & Places',
            emojis: [
                { emoji: 'ğŸª', title: 'Store' },
                { emoji: 'ğŸ¬', title: 'Department Store' },
                { emoji: 'ğŸ­', title: 'Factory' },
                { emoji: 'ğŸ¢', title: 'Office' },
                { emoji: 'ğŸ¨', title: 'Hotel' },
                { emoji: 'ğŸ¦', title: 'Bank' },
                { emoji: 'ğŸ¥', title: 'Hospital' },
                { emoji: 'ğŸ«', title: 'School' },
                { emoji: 'ğŸ“', title: 'Graduation Cap' },
                { emoji: 'ğŸ°', title: 'Castle' },
                { emoji: 'ğŸ¯', title: 'Japanese Castle' },
                { emoji: 'ğŸ›ï¸', title: 'Building' },
                { emoji: 'â›ª', title: 'Church' },
                { emoji: 'ğŸ•Œ', title: 'Mosque' },
                { emoji: 'ğŸ•', title: 'Synagogue' },
                { emoji: 'ğŸ›•', title: 'Temple' },
                { emoji: 'ğŸ—ï¸', title: 'Construction' },
                { emoji: 'ğŸš§', title: 'Construction Sign' },
                { emoji: 'â›ï¸', title: 'Pick' },
                { emoji: 'ğŸ”¨', title: 'Hammer' },
                { emoji: 'âš’ï¸', title: 'Hammer and Pick' },
                { emoji: 'ğŸ› ï¸', title: 'Hammer and Wrench' },
                { emoji: 'ğŸ”©', title: 'Nut and Bolt' },
                { emoji: 'âš™ï¸', title: 'Gear' },
                { emoji: 'ğŸ§°', title: 'Toolbox' },
                { emoji: 'ğŸ”§', title: 'Wrench' },
                { emoji: 'ğŸªš', title: 'Saw' },
                { emoji: 'ğŸª“', title: 'Axe' },
                { emoji: 'ğŸª£', title: 'Bucket' },
                { emoji: 'ğŸ§±', title: 'Brick' },
                { emoji: 'ğŸªµ', title: 'Wood' },
                { emoji: 'ğŸª¨', title: 'Rock' },
                { emoji: 'ğŸ ', title: 'House' },
                { emoji: 'ğŸ¡', title: 'House with Garden' },
                { emoji: 'ğŸ˜ï¸', title: 'Houses' },
                { emoji: 'ğŸšï¸', title: 'Derelict House' },
                { emoji: 'â›º', title: 'Tent' },
                { emoji: 'ğŸ•ï¸', title: 'Camping' },
                { emoji: 'ğŸ–ï¸', title: 'Beach' },
                { emoji: 'ğŸï¸', title: 'Desert Island' },
                { emoji: 'ğŸœï¸', title: 'Desert' },
                { emoji: 'ğŸŒ†', title: 'Cityscape at Dusk' },
                { emoji: 'ğŸŒ‡', title: 'Sunset' },
                { emoji: 'ğŸŒƒ', title: 'Night with Stars' }
            ]
        },
        vehicles: {
            name: 'ğŸš— Vehicles',
            emojis: [
                { emoji: 'ğŸš—', title: 'Car' },
                { emoji: 'ğŸš•', title: 'Taxi' },
                { emoji: 'ğŸš™', title: 'SUV' },
                { emoji: 'ğŸš', title: 'Van' },
                { emoji: 'ğŸ›»', title: 'Pickup Truck' },
                { emoji: 'ğŸšš', title: 'Truck' },
                { emoji: 'ğŸš›', title: 'Articulated Lorry' },
                { emoji: 'ğŸšœ', title: 'Tractor' },
                { emoji: 'ğŸï¸', title: 'Racing Car' },
                { emoji: 'ğŸï¸', title: 'Motorcycle' },
                { emoji: 'ğŸ›µ', title: 'Scooter' },
                { emoji: 'ğŸš²', title: 'Bicycle' },
                { emoji: 'ğŸ›´', title: 'Kick Scooter' },
                { emoji: 'ğŸ›¹', title: 'Skateboard' },
                { emoji: 'ğŸ›¼', title: 'Roller Skate' },
                { emoji: 'ğŸš¢', title: 'Ship' },
                { emoji: 'â›´ï¸', title: 'Ferry' },
                { emoji: 'ğŸ›¥ï¸', title: 'Motor Boat' },
                { emoji: 'ğŸš¤', title: 'Speedboat' },
                { emoji: 'â›µ', title: 'Sailboat' },
                { emoji: 'âœˆï¸', title: 'Plane' },
                { emoji: 'ğŸ›©ï¸', title: 'Small Plane' },
                { emoji: 'ğŸ›«', title: 'Airplane Departure' },
                { emoji: 'ğŸ›¬', title: 'Airplane Arrival' },
                { emoji: 'ğŸš', title: 'Helicopter' },
                { emoji: 'ğŸª‚', title: 'Parachute' },
                { emoji: 'ğŸ’º', title: 'Seat' },
                { emoji: 'ğŸšŸ', title: 'Suspension Railway' },
                { emoji: 'ğŸš ', title: 'Mountain Cableway' },
                { emoji: 'ğŸš¡', title: 'Aerial Tramway' },
                { emoji: 'ğŸš€', title: 'Rocket' },
                { emoji: 'ğŸ›¸', title: 'UFO' },
                { emoji: 'ğŸš‚', title: 'Train' },
                { emoji: 'ğŸšƒ', title: 'Railway Car' },
                { emoji: 'ğŸš„', title: 'High-Speed Train' },
                { emoji: 'ğŸš…', title: 'Bullet Train' },
                { emoji: 'ğŸš†', title: 'Train' },
                { emoji: 'ğŸš‡', title: 'Metro' },
                { emoji: 'ğŸšˆ', title: 'Light Rail' },
                { emoji: 'ğŸš‰', title: 'Station' },
                { emoji: 'ğŸšŠ', title: 'Tram' },
                { emoji: 'ğŸš', title: 'Monorail' },
                { emoji: 'ğŸš', title: 'Mountain Railway' },
                { emoji: 'ğŸšŒ', title: 'Bus' },
                { emoji: 'ğŸš', title: 'Oncoming Bus' },
                { emoji: 'ğŸš', title: 'Trolleybus' },
                { emoji: 'ğŸš‘', title: 'Ambulance' },
                { emoji: 'ğŸš’', title: 'Fire Engine' },
                { emoji: 'ğŸš“', title: 'Police Car' },
                { emoji: 'ğŸš”', title: 'Oncoming Police Car' },
                { emoji: 'ğŸš¨', title: 'Rotating Light' },
                { emoji: 'â›½', title: 'Gas' },
                { emoji: 'ğŸ›£ï¸', title: 'Motorway' },
                { emoji: 'ğŸ›¤ï¸', title: 'Railway Track' },
                { emoji: 'ğŸ›¢ï¸', title: 'Oil Drum' },
                { emoji: 'ğŸ›³ï¸', title: 'Passenger Ship' },
                { emoji: 'ğŸš', title: 'Bus Stop' }
            ]
        },
        business: {
            name: 'ğŸ’° Money & Business',
            emojis: [
                { emoji: 'ğŸ’°', title: 'Money' },
                { emoji: 'ğŸ’´', title: 'Yen' },
                { emoji: 'ğŸ’µ', title: 'Dollar' },
                { emoji: 'ğŸ’¶', title: 'Euro' },
                { emoji: 'ğŸ’·', title: 'Pound' },
                { emoji: 'ğŸ’¸', title: 'Money with Wings' },
                { emoji: 'ğŸ’³', title: 'Credit Card' },
                { emoji: 'ğŸ’', title: 'Diamond' },
                { emoji: 'ğŸ’', title: 'Ring' },
                { emoji: 'ğŸ’¼', title: 'Briefcase' },
                { emoji: 'ğŸ§³', title: 'Luggage' },
                { emoji: 'ğŸ“Š', title: 'Chart' },
                { emoji: 'ğŸ“ˆ', title: 'Growth' },
                { emoji: 'ğŸ“‰', title: 'Decrease' },
                { emoji: 'ğŸ“‹', title: 'Clipboard' },
                { emoji: 'ğŸ“Œ', title: 'Pushpin' },
                { emoji: 'ğŸ“', title: 'Round Pushpin' },
                { emoji: 'ğŸ“¦', title: 'Package' },
                { emoji: 'ğŸ“¨', title: 'Incoming Envelope' },
                { emoji: 'ğŸ“§', title: 'Email' },
                { emoji: 'ğŸ“®', title: 'Postbox' },
                { emoji: 'ğŸ›’', title: 'Shopping Cart' },
                { emoji: 'ğŸ›ï¸', title: 'Shopping Bags' },
                { emoji: 'ğŸ›ï¸', title: 'Bellhop Bell' },
                { emoji: 'ğŸ·ï¸', title: 'Label' },
                { emoji: 'ğŸ«', title: 'Ticket' },
                { emoji: 'ğŸŸï¸', title: 'Admission Tickets' },
                { emoji: 'ğŸ“', title: 'Telephone Receiver' },
                { emoji: 'ğŸ“ ', title: 'Fax Machine' },
                { emoji: 'ğŸ“ª', title: 'Closed Mailbox' },
                { emoji: 'ğŸ“«', title: 'Open Mailbox' },
                { emoji: 'ğŸ“¬', title: 'Mailbox with Mail' },
                { emoji: 'ğŸ“­', title: 'Mailbox with No Mail' },
                { emoji: 'ğŸ“¯', title: 'Postal Horn' },
                { emoji: 'ğŸ“©', title: 'Envelope with Arrow' },
                { emoji: 'ğŸ“¤', title: 'Outbox Tray' },
                { emoji: 'ğŸ“¥', title: 'Inbox Tray' },
                { emoji: 'ğŸ“', title: 'Memo' },
                { emoji: 'ğŸ“„', title: 'Document' },
                { emoji: 'ğŸ“ƒ', title: 'Page with Curl' },
                { emoji: 'ğŸ“‘', title: 'Bookmark Tabs' },
                { emoji: 'ğŸ“’', title: 'Ledger' },
                { emoji: 'ğŸ““', title: 'Notebook' },
                { emoji: 'ğŸ“”', title: 'Notebook with Decorative Cover' },
                { emoji: 'ğŸ“•', title: 'Closed Book' },
                { emoji: 'ğŸ“—', title: 'Green Book' },
                { emoji: 'ğŸ“˜', title: 'Blue Book' },
                { emoji: 'ğŸ“™', title: 'Orange Book' },
                { emoji: 'ğŸ“š', title: 'Books' },
                { emoji: 'ğŸ“–', title: 'Open Book' },
                { emoji: 'ğŸ”–', title: 'Bookmark' }
            ]
        },
        entertainment: {
            name: 'ğŸª Entertainment',
            emojis: [
                { emoji: 'ğŸª', title: 'Circus' },
                { emoji: 'ğŸ­', title: 'Theater' },
                { emoji: 'ğŸ¨', title: 'Art' },
                { emoji: 'ğŸ¬', title: 'Movie' },
                { emoji: 'ğŸ¤', title: 'Microphone' },
                { emoji: 'ğŸ§', title: 'Headphone' },
                { emoji: 'ğŸ¼', title: 'Musical Score' },
                { emoji: 'ğŸ¹', title: 'Musical Keyboard' },
                { emoji: 'ğŸ¥', title: 'Drum' },
                { emoji: 'ğŸ·', title: 'Saxophone' },
                { emoji: 'ğŸº', title: 'Trumpet' },
                { emoji: 'ğŸ»', title: 'Violin' },
                { emoji: 'ğŸµ', title: 'Music' },
                { emoji: 'ğŸ¶', title: 'Musical Notes' },
                { emoji: 'ğŸ®', title: 'Game' },
                { emoji: 'ğŸ•¹ï¸', title: 'Joystick' },
                { emoji: 'ğŸ¯', title: 'Target' },
                { emoji: 'ğŸ³', title: 'Bowling' },
                { emoji: 'ğŸ°', title: 'Slot' },
                { emoji: 'ğŸ²', title: 'Dice' },
                { emoji: 'ğŸƒ', title: 'Joker' },
                { emoji: 'ğŸ€„', title: 'Mahjong' },
                { emoji: 'ğŸ´', title: 'Playing Cards' },
                { emoji: 'ğŸŸï¸', title: 'Admission Tickets' },
                { emoji: 'ğŸ«', title: 'Ticket' }
            ]
        },
        technology: {
            name: 'ğŸ“± Technology',
            emojis: [
                { emoji: 'ğŸ“±', title: 'Phone' },
                { emoji: 'ğŸ“²', title: 'Mobile Phone with Arrow' },
                { emoji: 'â˜ï¸', title: 'Telephone' },
                { emoji: 'ğŸ“', title: 'Telephone Receiver' },
                { emoji: 'ğŸ“Ÿ', title: 'Pager' },
                { emoji: 'ğŸ“ ', title: 'Fax Machine' },
                { emoji: 'ğŸ’»', title: 'Computer' },
                { emoji: 'ğŸ–¥ï¸', title: 'Desktop Computer' },
                { emoji: 'ğŸ–¨ï¸', title: 'Printer' },
                { emoji: 'âŒ¨ï¸', title: 'Keyboard' },
                { emoji: 'ğŸ–±ï¸', title: 'Computer Mouse' },
                { emoji: 'ğŸ–²ï¸', title: 'Trackball' },
                { emoji: 'ğŸ’¾', title: 'Floppy Disk' },
                { emoji: 'ğŸ’¿', title: 'Optical Disk' },
                { emoji: 'ğŸ“€', title: 'DVD' },
                { emoji: 'ğŸ“º', title: 'TV' },
                { emoji: 'ğŸ“»', title: 'Radio' },
                { emoji: 'ğŸ“·', title: 'Camera' },
                { emoji: 'ğŸ“¸', title: 'Camera with Flash' },
                { emoji: 'ğŸ“¹', title: 'Video Camera' },
                { emoji: 'ğŸ¥', title: 'Movie Camera' },
                { emoji: 'ğŸ“¼', title: 'Videocassette' },
                { emoji: 'ğŸ”', title: 'Magnifying Glass' },
                { emoji: 'ğŸ”', title: 'Magnifying Glass Tilted Right' },
                { emoji: 'ğŸ”§', title: 'Tool' },
                { emoji: 'âš¡', title: 'Lightning' },
                { emoji: 'ğŸ”Œ', title: 'Electric Plug' },
                { emoji: 'ğŸ’¡', title: 'Light Bulb' },
                { emoji: 'ğŸ”¦', title: 'Flashlight' },
                { emoji: 'ğŸ•¯ï¸', title: 'Candle' },
                { emoji: 'ğŸ§¯', title: 'Fire Extinguisher' },
                { emoji: 'ğŸª£', title: 'Bucket' },
                { emoji: 'ğŸ§°', title: 'Toolbox' },
                { emoji: 'ğŸ§²', title: 'Magnet' },
                { emoji: 'ğŸ”¬', title: 'Microscope' },
                { emoji: 'ğŸ”­', title: 'Telescope' },
                { emoji: 'ğŸ“¡', title: 'Satellite' }
            ]
        },
        symbols: {
            name: 'â­ Symbols & Status',
            emojis: [
                { emoji: 'â­', title: 'Star' },
                { emoji: 'ğŸŒŸ', title: 'Glowing Star' },
                { emoji: 'ğŸ’«', title: 'Dizzy' },
                { emoji: 'âœ¨', title: 'Sparkles' },
                { emoji: 'ğŸ”¥', title: 'Fire' },
                { emoji: 'ğŸ’¥', title: 'Explosion' },
                { emoji: 'ğŸ’¢', title: 'Anger Symbol' },
                { emoji: 'ğŸ’¯', title: 'Hundred Points' },
                { emoji: 'âœ…', title: 'Check Mark' },
                { emoji: 'âŒ', title: 'Cross Mark' },
                { emoji: 'â­•', title: 'Heavy Large Circle' },
                { emoji: 'ğŸ¯', title: 'Target' },
                { emoji: 'ğŸª', title: 'Circus Tent' },
                { emoji: 'ğŸ¨', title: 'Artist Palette' },
                { emoji: 'ğŸ†', title: 'Trophy' },
                { emoji: 'ğŸ¥‡', title: '1st Place Medal' },
                { emoji: 'ğŸ¥ˆ', title: '2nd Place Medal' },
                { emoji: 'ğŸ¥‰', title: '3rd Place Medal' },
                { emoji: 'ğŸ…', title: 'Sports Medal' },
                { emoji: 'ğŸ–ï¸', title: 'Military Medal' },
                { emoji: 'ğŸ‘‘', title: 'Crown' },
                { emoji: 'ğŸ’', title: 'Ring' },
                { emoji: 'ğŸ’', title: 'Gem' },
                { emoji: 'ğŸ”‘', title: 'Key' },
                { emoji: 'ğŸ—ï¸', title: 'Old Key' },
                { emoji: 'ğŸ', title: 'Gift' },
                { emoji: 'ğŸ€', title: 'Ribbon' },
                { emoji: 'ğŸ—ï¸', title: 'Reminder Ribbon' },
                { emoji: 'ğŸµï¸', title: 'Rosette' },
                { emoji: 'ğŸŸï¸', title: 'Admission Tickets' },
                { emoji: 'ğŸ«', title: 'Ticket' },
                { emoji: 'ğŸ–ï¸', title: 'Medal' },
                { emoji: 'ğŸ—ï¸', title: 'Reminder Ribbon' }
            ]
        },
        nature: {
            name: 'ğŸŒ³ Nature',
            emojis: [
                { emoji: 'ğŸŒ³', title: 'Tree' },
                { emoji: 'ğŸŒ²', title: 'Evergreen Tree' },
                { emoji: 'ğŸŒ´', title: 'Palm Tree' },
                { emoji: 'ğŸŒ±', title: 'Seedling' },
                { emoji: 'ğŸŒ¿', title: 'Herb' },
                { emoji: 'ğŸ€', title: 'Four Leaf Clover' },
                { emoji: 'ğŸƒ', title: 'Leaf' },
                { emoji: 'ğŸ‚', title: 'Fallen Leaf' },
                { emoji: 'ğŸ', title: 'Maple Leaf' },
                { emoji: 'ğŸŒ¾', title: 'Sheaf of Rice' },
                { emoji: 'ğŸŒ·', title: 'Tulip' },
                { emoji: 'ğŸŒ¹', title: 'Rose' },
                { emoji: 'ğŸŒº', title: 'Hibiscus' },
                { emoji: 'ğŸŒ»', title: 'Sunflower' },
                { emoji: 'ğŸŒ¼', title: 'Blossom' },
                { emoji: 'ğŸŒ¸', title: 'Cherry Blossom' },
                { emoji: 'ğŸŒ', title: 'Globe' },
                { emoji: 'ğŸŒ', title: 'Globe Americas' },
                { emoji: 'ğŸŒ', title: 'Globe Asia-Australia' },
                { emoji: 'ğŸ—ºï¸', title: 'Map' },
                { emoji: 'ğŸ§­', title: 'Compass' },
                { emoji: 'â›°ï¸', title: 'Mountain' },
                { emoji: 'ğŸ”ï¸', title: 'Snow-Capped Mountain' },
                { emoji: 'ğŸŒ‹', title: 'Volcano' },
                { emoji: 'ğŸ•ï¸', title: 'Camping' },
                { emoji: 'ğŸ–ï¸', title: 'Beach' },
                { emoji: 'ğŸœï¸', title: 'Desert' },
                { emoji: 'ğŸï¸', title: 'Desert Island' },
                { emoji: 'ğŸŒŠ', title: 'Water Wave' },
                { emoji: 'ğŸŒ…', title: 'Sunrise' },
                { emoji: 'ğŸŒ„', title: 'Sunrise Over Mountains' },
                { emoji: 'ğŸŒ†', title: 'Cityscape at Dusk' },
                { emoji: 'ğŸŒ‡', title: 'Sunset' },
                { emoji: 'ğŸŒƒ', title: 'Night with Stars' },
                { emoji: 'ğŸŒ‰', title: 'Bridge at Night' },
                { emoji: 'ğŸŒŒ', title: 'Milky Way' },
                { emoji: 'ğŸŒ ', title: 'Shooting Star' },
                { emoji: 'â˜€ï¸', title: 'Sun' },
                { emoji: 'ğŸŒ¤ï¸', title: 'Sun Behind Small Cloud' },
                { emoji: 'â›…', title: 'Sun Behind Cloud' },
                { emoji: 'ğŸŒ¥ï¸', title: 'Sun Behind Large Cloud' },
                { emoji: 'â˜ï¸', title: 'Cloud' },
                { emoji: 'â›ˆï¸', title: 'Cloud with Lightning and Rain' },
                { emoji: 'ğŸŒ¦ï¸', title: 'Sun Behind Rain Cloud' },
                { emoji: 'ğŸŒ§ï¸', title: 'Cloud with Rain' },
                { emoji: 'â›ˆï¸', title: 'Thunder Cloud and Rain' },
                { emoji: 'â„ï¸', title: 'Snowflake' },
                { emoji: 'â˜ƒï¸', title: 'Snowman' },
                { emoji: 'â›„', title: 'Snowman Without Snow' },
                { emoji: 'ğŸŒ¨ï¸', title: 'Cloud with Snow' },
                { emoji: 'ğŸŒ©ï¸', title: 'Cloud with Lightning' },
                { emoji: 'ğŸŒªï¸', title: 'Tornado' },
                { emoji: 'ğŸŒˆ', title: 'Rainbow' },
                { emoji: 'â˜”', title: 'Umbrella with Rain Drops' },
                { emoji: 'ğŸ’§', title: 'Droplet' },
                { emoji: 'â˜‚ï¸', title: 'Umbrella' }
            ]
        },
        documents: {
            name: 'ğŸ“„ Documents & Items',
            emojis: [
                { emoji: 'ğŸ“„', title: 'Document' },
                { emoji: 'ğŸ“ƒ', title: 'Page with Curl' },
                { emoji: 'ğŸ“‘', title: 'Bookmark Tabs' },
                { emoji: 'ğŸ“Š', title: 'Bar Chart' },
                { emoji: 'ğŸ“ˆ', title: 'Chart Increasing' },
                { emoji: 'ğŸ“‰', title: 'Chart Decreasing' },
                { emoji: 'ğŸ“‹', title: 'Clipboard' },
                { emoji: 'ğŸ“', title: 'Memo' },
                { emoji: 'ğŸ“Œ', title: 'Pushpin' },
                { emoji: 'ğŸ“', title: 'Round Pushpin' },
                { emoji: 'ğŸ“', title: 'Paperclip' },
                { emoji: 'ğŸ–‡ï¸', title: 'Linked Paperclips' },
                { emoji: 'ğŸ“', title: 'Straight Ruler' },
                { emoji: 'ğŸ“', title: 'Triangular Ruler' },
                { emoji: 'âœ‚ï¸', title: 'Scissors' },
                { emoji: 'ğŸ—‚ï¸', title: 'Card Index Dividers' },
                { emoji: 'ğŸ—ƒï¸', title: 'Card File Box' },
                { emoji: 'ğŸ—„ï¸', title: 'File Cabinet' },
                { emoji: 'ğŸ—‘ï¸', title: 'Wastebasket' },
                { emoji: 'ğŸ§ª', title: 'Science' },
                { emoji: 'ğŸ§«', title: 'Petri Dish' },
                { emoji: 'ğŸ§¬', title: 'DNA' },
                { emoji: 'ğŸ”¬', title: 'Microscope' },
                { emoji: 'ğŸ”­', title: 'Telescope' },
                { emoji: 'ğŸ“¡', title: 'Satellite Antenna' },
                { emoji: 'ğŸ’‰', title: 'Syringe' },
                { emoji: 'ğŸ’Š', title: 'Pill' },
                { emoji: 'ğŸ©¹', title: 'Adhesive Bandage' },
                { emoji: 'ğŸ©º', title: 'Stethoscope' },
                { emoji: 'ğŸšª', title: 'Door' },
                { emoji: 'ğŸ›ï¸', title: 'Bed' },
                { emoji: 'ğŸ›‹ï¸', title: 'Couch and Lamp' },
                { emoji: 'ğŸš½', title: 'Toilet' },
                { emoji: 'ğŸš¿', title: 'Shower' },
                { emoji: 'ğŸ›', title: 'Bathtub' },
                { emoji: 'ğŸ§´', title: 'Lotion Bottle' },
                { emoji: 'ğŸ§·', title: 'Safety Pin' },
                { emoji: 'ğŸ§¹', title: 'Broom' },
                { emoji: 'ğŸ§º', title: 'Basket' },
                { emoji: 'ğŸ§»', title: 'Roll of Paper' },
                { emoji: 'ğŸ§¼', title: 'Soap' },
                { emoji: 'ğŸ§½', title: 'Sponge' },
                { emoji: 'ğŸ§¯', title: 'Fire Extinguisher' },
                { emoji: 'ğŸ›’', title: 'Shopping Cart' }
            ]
        },
        landmarks: {
            name: 'ğŸ—¼ Landmarks',
            emojis: [
                { emoji: 'ğŸ—¼', title: 'Tokyo Tower' },
                { emoji: 'ğŸ—½', title: 'Statue of Liberty' },
                { emoji: 'â›²', title: 'Fountain' },
                { emoji: 'ğŸ¡', title: 'Ferris Wheel' },
                { emoji: 'ğŸ¢', title: 'Roller Coaster' },
                { emoji: 'ğŸŸï¸', title: 'Stadium' }
            ]
        }
    };

    /**
     * Generate emoji picker HTML
     * @param {string} containerId - ID of the container element (default: 'emojiGridContainer')
     * @returns {string} HTML string for the emoji picker
     */
    function generateEmojiPickerHTML(containerId = 'emojiGridContainer') {
        let html = '<div class="emoji-search">';
        html += '<input type="text" id="emojiSearchInput" placeholder="ğŸ” Search emojis..." oninput="filterEmojis()">';
        html += '</div>';
        html += `<div id="${containerId}">`;

        // Generate HTML for each category
        for (const [categoryKey, categoryData] of Object.entries(emojiData)) {
            html += `<div class="emoji-category" data-category="${categoryKey}">${categoryData.name}</div>`;
            html += `<div class="emoji-grid" data-category="${categoryKey}">`;
            
            categoryData.emojis.forEach(emojiItem => {
                const searchAttr = emojiItem.search ? `data-search="${emojiItem.search}"` : '';
                html += `<button type="button" class="emoji-btn" onclick="selectEmoji('${emojiItem.emoji}')" title="${emojiItem.title}" data-category="${categoryKey}" ${searchAttr}>${emojiItem.emoji}</button>`;
            });
            
            html += '</div>';
        }

        html += '</div>';
        return html;
    }

    /**
     * Initialize emoji picker in a container
     * @param {string} containerId - ID of the container element (default: 'emojiPicker')
     */
    function initializeEmojiPicker(containerId = 'emojiPicker') {
        const container = document.getElementById(containerId);
        if (!container) {
            console.warn(`Emoji picker container with ID "${containerId}" not found`);
            return;
        }

        // Check if already initialized
        if (container.querySelector('.emoji-search')) {
            return;
        }

        container.innerHTML = generateEmojiPickerHTML('emojiGridContainer');
    }

    // Export functions to global scope
    window.generateEmojiPickerHTML = generateEmojiPickerHTML;
    window.initializeEmojiPicker = initializeEmojiPicker;
    window.emojiPickerData = emojiData; // Expose data for potential future use

})();