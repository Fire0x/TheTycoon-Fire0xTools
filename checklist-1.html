<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TheTycoon - Fire0x Tools</title>
    <!-- Title and favicon will be set by site-config.js -->
    <!-- Bootstrap CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <!-- Custom CSS -->
    <link href="css/styles.css" rel="stylesheet">
    <!-- Base CSS (load order matters) -->
    <link href="css/base/variables.css" rel="stylesheet">
    <link href="css/base/common.css" rel="stylesheet">
    <link href="css/base/responsive.css" rel="stylesheet">
    <!-- Page-specific CSS -->
    <link href="css/pages/checklist-base.css" rel="stylesheet">
    <link href="css/pages/checklist.css" rel="stylesheet">
    <link href="css/pages/checklist-1.css" rel="stylesheet">
</head>
<body>


    <!-- Main Content -->
    <main class="container py-5">
        <div class="text-center mb-5">
            <h1 class="glow-text">üìã Business Checklist</h1>
            <p class="lead">Track all open businesses across all tiers</p>
        </div>

        <!-- Time Displays -->
        <div class="row mb-4">
            <div class="col-md-12">
                <div class="card">
                    <div class="card-body">
                        <div class="row text-center">
                            <div class="col-md-4 mb-3 mb-md-0">
                                <div class="time-display">
                                    <strong>üïê Local time:</strong> 
                                    <div id="local-time" class="text-info" style="font-size: 1.2rem; margin-top: 0.5rem;">--:--:--</div>
                                </div>
                            </div>
                            <div class="col-md-4 mb-3 mb-md-0">
                                <div class="time-display">
                                    <strong>üïê Eastern Time:</strong> 
                                    <div id="eastern-time" class="text-info" style="font-size: 1.2rem; margin-top: 0.5rem;">--:--:--</div>
                                    <span id="eastern-tz" class="text-muted small">EST</span>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="time-display">
                                    <strong>üîÑ Server Reboot:</strong> 
                                    <div id="reboot-countdown" class="text-warning" style="font-size: 1.2rem; margin-top: 0.5rem;">--:--:--</div>
                                    <small class="text-muted d-block mt-1">Next: <span id="reboot-time-et">3:00 AM EST</span> / <span id="reboot-time-local">--:--</span></small>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- How to Use Section -->
        <div class="row mb-4">
            <div class="col-md-12">
                <div class="card mb-4">
                    <div class="card-header" style="background-color: var(--card-bg); border-bottom: 1px solid var(--card-border);">
                        <button class="btn btn-link text-decoration-none w-100 text-start p-0" type="button" data-bs-toggle="collapse" data-bs-target="#howToUseCollapse" aria-expanded="true" aria-controls="howToUseCollapse" style="color: var(--text-color); font-weight: 600;">
                            <span>üìñ How to Use This Page</span>
                            <span class="float-end" id="howToUseToggle">‚ñº</span>
                        </button>
                    </div>
                    <div class="collapse show" id="howToUseCollapse">
                        <div class="card-body">
                            <div class="mb-3">
                                <h6 class="mb-2"><strong>Step 1: Set Up Your Tiers</strong></h6>
                                <p class="mb-2">Click on <strong>‚öôÔ∏è Configuration Management</strong> above to expand it, then click <span class="badge bg-primary">‚ûï Add Tier</span> to create your first tier. Give it a name (e.g., "Tier 1: Fruit Stand"), choose an icon (emoji), and select a color.</p>
                                
                                <h6 class="mb-2"><strong>Step 2: Add Products</strong></h6>
                                <p class="mb-2">Before adding businesses, you can set up products for each tier. In the Configuration Management panel, click <span class="badge bg-primary">‚ûï Add Product</span> to create products:</p>
                                <ul class="mb-3">
                                    <li><strong>Tier:</strong> Select which tier this product belongs to (products are tier-specific)</li>
                                    <li><strong>Product Name:</strong> Enter the product name (e.g., "Apple", "Orange", "Banana")</li>
                                </ul>
                                <p class="mb-2"><em>Note:</em> Products help you track which items each business is producing. You can add products at any time, but it's recommended to set them up before adding businesses.</p>
                                
                                <h6 class="mb-2"><strong>Step 3: Add Businesses</strong></h6>
                                <p class="mb-2">In the Configuration Management panel, click <span class="badge bg-primary">‚ûï Add Business</span> to add businesses to your tiers. Fill in:</p>
                                <ul class="mb-3">
                                    <li><strong>Business Code:</strong> A unique identifier (e.g., "TIER1-BIZ001")</li>
                                    <li><strong>Business Name:</strong> The location or name (e.g., "Route 68, Grand Senora Desert")</li>
                                    <li><strong>Tier:</strong> Select which tier this business belongs to</li>
                                    <li><strong>Max Stock:</strong> Maximum stock capacity for this business</li>
                                    <li><strong>Collection Storage:</strong> Maximum collection storage capacity</li>
                                    <li><strong>Notes:</strong> <em>Optional</em> - Add notes to help remember which business this is, such as employee names or other identifying information. Hover over the ‚ÑπÔ∏è icon for more details. This makes it easy to identify businesses when you have multiple locations.</li>
                                </ul>
                                
                                <h6 class="mb-2"><strong>Step 4: Track Your Progress</strong></h6>
                                <p class="mb-2">Once businesses are added, they will appear in the checklist below. You can:</p>
                                <ul class="mb-3">
                                    <li><strong>Check off businesses:</strong> Click the checkbox when you've completed a task (checked businesses are excluded from summary calculations)</li>
                                    <li><strong>Add Money:</strong> Enter the current money amount in the Money field</li>
                                    <li><strong>Track Stock:</strong> Enter current stock to see how much more is needed to reach max. The system automatically calculates "Stock Needed" based on Max Stock - Current Stock</li>
                                    <li><strong>Select Product:</strong> Choose which product this business is producing from the Product dropdown. This is used for summary calculations</li>
                                    <li><strong>Track Collection:</strong> Enter collection storage amounts (if applicable)</li>
                                    <li><strong>Add Notes:</strong> Add any notes or reminders for each business</li>
                                </ul>
                                
                                <h6 class="mb-2"><strong>Step 5: View Tier Summaries</strong></h6>
                                <p class="mb-2">Each tier card has a <span class="badge bg-info">üìä Show Summary</span> / <span class="badge bg-info">üìä Hide Summary</span> button. Click it to view a summary table showing:</p>
                                <ul class="mb-3">
                                    <li><strong>Product Name:</strong> All products assigned to businesses in this tier</li>
                                    <li><strong>Total Products Needed:</strong> Sum of stock needed for each product across all businesses in the tier</li>
                                </ul>
                                <p class="mb-2"><em>Note:</em> Businesses with checked checkboxes are excluded from summary calculations. The summary only counts businesses that need stock.</p>
                                
                                <h6 class="mb-2"><strong>Step 6: View All Business Summary</strong></h6>
                                <p class="mb-2">Below the tier cards, you'll find the <strong>üìä All Business Summary</strong> card (appears when products are selected). This shows:</p>
                                <ul class="mb-3">
                                    <li><strong>Product Name:</strong> All products across all tiers</li>
                                    <li><strong>Tier Columns:</strong> Stock needed for each product per tier</li>
                                    <li><strong>Grand Total:</strong> Total stock needed for each product across all tiers</li>
                                    <li><strong>Footer Row:</strong> Grand totals for each tier and overall grand total</li>
                                </ul>
                                <p class="mb-2">This summary helps you see at a glance how much of each product you need across all your businesses.</p>
                                
                                <h6 class="mb-2"><strong>Step 7: Import/Export Configuration</strong></h6>
                                <p class="mb-2">You can backup and restore your configuration (including tiers, businesses, products, and product selections):</p>
                                <ul class="mb-3">
                                    <li><strong>Export:</strong> Click <span class="badge bg-success">üì§ Export Configuration</span> to copy your setup. Then copy the JSON text:</li>
                                    <ul class="mb-2">
                                        <li><strong>Windows/Linux:</strong> Press <kbd>Ctrl</kbd> + <kbd>A</kbd> then <kbd>Ctrl</kbd> + <kbd>C</kbd></li>
                                        <li><strong>Mac:</strong> Press <kbd>Cmd</kbd> + <kbd>A</kbd> then <kbd>Cmd</kbd> + <kbd>C</kbd></li>
                                    </ul>
                                    <li><strong>Import:</strong> Click <span class="badge bg-warning">üì• Import Configuration</span>, then paste your saved JSON:</li>
                                    <ul class="mb-2">
                                        <li><strong>Windows/Linux:</strong> Press <kbd>Ctrl</kbd> + <kbd>V</kbd></li>
                                        <li><strong>Mac:</strong> Press <kbd>Cmd</kbd> + <kbd>V</kbd></li>
                                    </ul>
                                    <li>Click <span class="badge bg-primary">Import</span> to load your configuration</li>
                                    <li><strong>Template:</strong> Click <span class="badge bg-primary">üìã Load Template</span> to load an example configuration. The template file (<code>checklist-template.json</code>) contains sample tiers, businesses, and products that you can customize. The template loads into the import modal for review before applying. You can edit the template file directly to create your own starting configuration.</li>
                                </ul>
                                <p class="mb-0">All your progress is automatically saved to your browser. Use <span class="badge bg-info">üìã Generate Checklist</span> to create a CSV report (includes product information). For more details on copy/paste shortcuts, see the <a href="merchants.html">Traveling Merchants</a> page.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- All Business Summary -->
        <div class="card mt-4 mb-4" id="allBusinessSummaryCard" style="display: none;">
            <div class="card-header" style="background-color: var(--card-bg); border-bottom: 1px solid var(--card-border);">
                <button class="btn btn-link text-decoration-none w-100 text-start p-0" type="button" data-bs-toggle="collapse" data-bs-target="#allBusinessSummaryCollapse" aria-expanded="true" aria-controls="allBusinessSummaryCollapse" style="color: var(--text-color); font-weight: 600;">
                    <span>üìä All Business Summary</span>
                    <span class="float-end" id="allBusinessSummaryToggle">‚ñº</span>
                </button>
            </div>
            <div class="collapse show" id="allBusinessSummaryCollapse">
                <div class="card-body">
                    <div class="table-responsive">
                        <table class="table table-sm table-bordered">
                            <thead>
                                <tr id="allBusinessSummaryHeaderRow">
                                    <th>Product Name</th>
                                    <!-- Tier columns will be dynamically generated here -->
                                    <th class="text-end"><strong>Grand Total</strong></th>
                                </tr>
                            </thead>
                            <tbody id="allBusinessSummaryBody">
                                <tr>
                                    <td colspan="100%" class="text-center text-muted">Loading summary...</td>
                                </tr>
                            </tbody>
                            <tfoot id="allBusinessSummaryFooter">
                                <!-- Grand Total row will be dynamically generated here -->
                            </tfoot>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <!-- Configuration Panel -->
        <div class="card config-panel">
            <div class="card-header">
                <button class="btn btn-link config-collapse-btn text-decoration-none text-white" type="button" data-bs-toggle="collapse" data-bs-target="#configCollapse" aria-expanded="false" aria-controls="configCollapse">
                    ‚öôÔ∏è Configuration Management <span class="float-end">‚ñº</span>
                </button>
            </div>
            <div class="collapse" id="configCollapse">
                <div class="card-body">
                    <div class="mb-3">
                        <h5>Tier Management</h5>
                        <div class="d-flex flex-wrap gap-2 mb-3">
                            <button type="button" class="btn btn-primary" onclick="openAddTierModal()">‚ûï Add Tier</button>
                            <button type="button" class="btn btn-info" onclick="openEditTierModal()">‚úèÔ∏è Edit Tier</button>
                        </div>
                    </div>
                    <div class="mb-3">
                        <h5>Business Management</h5>
                        <div class="d-flex flex-wrap gap-2 mb-3">
                            <button type="button" class="btn btn-primary" onclick="openAddBusinessModal()">‚ûï Add Business</button>
                            <button type="button" class="btn btn-info" onclick="openEditBusinessModal()">‚úèÔ∏è Edit Business</button>
                        </div>
                    </div>
                    <div class="mb-3">
                        <h5>Product Management</h5>
                        <div class="d-flex flex-wrap gap-2 mb-3">
                            <button type="button" class="btn btn-primary" onclick="openAddProductModal()">‚ûï Add Product</button>
                            <button type="button" class="btn btn-info" onclick="openEditProductModal()">‚úèÔ∏è Edit Product</button>
                            <button type="button" class="btn btn-secondary" onclick="openProductOrderModal()">üìã Edit Product Order</button>
                        </div>
                    </div>
                    <div class="mb-3">
                        <h5>Import/Export</h5>
                        <div class="d-flex flex-wrap gap-2 mb-3">
                            <button type="button" class="btn btn-success" onclick="exportConfiguration()">üì§ Export Configuration</button>
                            <button type="button" class="btn btn-warning" onclick="openImportModal()">üì• Import Configuration</button>
                            <button type="button" class="btn btn-primary" onclick="loadTemplate()">üìã Load Template</button>
                            <button type="button" class="btn btn-info" onclick="generatePersonTableString()">üìã Generate Checklist</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="alert alert-secondary" role="alert" id="loadingAlert">
            <span class="spinner-border spinner-border-sm me-2" role="status" aria-hidden="true"></span>
            Loading businesses from localStorage...
        </div>

        <!-- Dynamic Content Container -->
        <div id="checklistContainer">
            <!-- Content will be dynamically generated here -->
        </div>

        <!-- Summary -->
        <div class="card mt-4" id="summaryAlert" style="display: none;">
            <div class="card-header" style="background-color: var(--card-bg); border-bottom: 1px solid var(--card-border);">
                <button class="btn btn-link text-decoration-none w-100 text-start p-0" type="button" data-bs-toggle="collapse" data-bs-target="#summaryCollapse" aria-expanded="true" aria-controls="summaryCollapse" style="color: var(--text-color); font-weight: 600;">
                    <span>üìä Summary</span>
                    <span class="float-end" id="summaryToggle">‚ñº</span>
                </button>
            </div>
            <div class="collapse show" id="summaryCollapse">
                <div class="card-body">
                    <p class="mb-0" id="summaryContent" style="font-size: 1.05rem; line-height: 1.8;">
                        <!-- Summary will be dynamically generated here -->
                    </p>
                </div>
            </div>
        </div>

        <!-- Action Buttons -->
        <div class="mt-4 d-flex flex-wrap gap-2">
            <button type="button" class="btn btn-primary" onclick="checkAll()">‚úÖ Check All</button>
            <button type="button" class="btn btn-secondary" onclick="uncheckAll()">‚ùå Uncheck All</button>
            <button type="button" class="btn btn-info" onclick="saveProgress()">üíæ Save Progress</button>
            <button type="button" class="btn btn-danger" onclick="clearProgress()">üóëÔ∏è Clear Progress</button>
            <button type="button" class="btn btn-outline-secondary btn-sm ms-2" id="debugToggleBtn" onclick="toggleDebug()">
                <span id="debugToggleText">üîç Debug: OFF</span>
            </button>
        </div>
    </main>

    <!-- Tier Modal -->
    <div class="modal fade" id="tierModal" tabindex="-1" aria-labelledby="tierModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="tierModalLabel">Add/Edit Tier</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="tierForm">
                        <input type="hidden" id="tierId" value="">
                        <div class="mb-3">
                            <label for="tierName" class="form-label">Tier Name</label>
                            <input type="text" class="form-control" id="tierName" required placeholder="e.g., Tier 1: Fruit Stand">
                        </div>
                        <div class="mb-3">
                            <label for="tierIcon" class="form-label">Icon (Emoji)</label>
                            <div class="input-group mb-2">
                                <input type="text" class="form-control" id="tierIcon" placeholder="e.g., üçé" maxlength="2">
                                <button class="btn btn-outline-secondary" type="button" onclick="toggleEmojiPicker()" title="Show emoji picker">
                                    üòÄ
                                </button>
                            </div>
                            <div id="emojiPicker" class="emoji-picker-container" style="display: none;">
                                <!-- Emoji picker will be generated by emoji-picker.js -->
                            </div>
                        </div>
                        <div class="mb-3">
                            <label for="tierColor" class="form-label">Color Class</label>
                            <select class="form-select" id="tierColor">
                                <option value="bg-primary">Primary</option>
                                <option value="bg-success">Success</option>
                                <option value="bg-warning text-dark">Warning</option>
                                <option value="bg-info">Info</option>
                                <option value="bg-secondary">Secondary</option>
                                <option value="bg-danger">Danger</option>
                                <option value="bg-dark text-white">Dark</option>
                                <option value="bg-light text-dark">Light</option>
                                <option value="bg-white text-dark border">White</option>
                                <option value="bg-primary bg-opacity-75 text-white">Primary (75% opacity)</option>
                                <option value="bg-success bg-opacity-75 text-white">Success (75% opacity)</option>
                                <option value="bg-info bg-opacity-75 text-white">Info (75% opacity)</option>
                                <option value="bg-danger bg-opacity-75 text-white">Danger (75% opacity)</option>
                                <option value="bg-warning bg-opacity-75 text-dark">Warning (75% opacity)</option>
                                <option value="bg-secondary bg-opacity-75 text-white">Secondary (75% opacity)</option>
                                <option value="bg-dark bg-opacity-75 text-white">Dark (75% opacity)</option>
                            </select>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" onclick="saveTier()">Save Tier</button>
                    <button type="button" class="btn btn-danger" id="deleteTierBtn" onclick="deleteTier()" style="display: none;">Delete Tier</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Product Modal -->
    <div class="modal fade" id="productModal" tabindex="-1" aria-labelledby="productModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="productModalLabel">Add/Edit Product</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="productForm">
                        <input type="hidden" id="productId" value="">
                        <div class="mb-3">
                            <label for="productTierId" class="form-label">Tier <span class="text-danger">*</span></label>
                            <select class="form-select" id="productTierId" required>
                                <option value="">Select a tier...</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label for="productName" class="form-label">Product Name <span class="text-danger">*</span></label>
                            <input type="text" class="form-control" id="productName" required placeholder="e.g., Apple">
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" onclick="saveProduct()">Save Product</button>
                    <button type="button" class="btn btn-danger" id="deleteProductBtn" onclick="deleteProduct()" style="display: none;">Delete Product</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Product Order Modal -->
    <div class="modal fade" id="productOrderModal" tabindex="-1" aria-labelledby="productOrderModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="productOrderModalLabel">Edit Product Order</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p class="text-muted mb-3">Use the up/down buttons to reorder products. Products will appear in this order in Tier Summary and All Business Summary.</p>
                    <div id="productOrderList" class="list-group">
                        <!-- Product order items will be dynamically generated here -->
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-outline-info" onclick="sortProductsByTier()">Sort by Tier</button>
                    <button type="button" class="btn btn-primary" onclick="saveProductOrder()">Save Order</button>
                    <button type="button" class="btn btn-outline-secondary" onclick="resetProductOrder()">Reset to Alphabetical</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Business Modal -->
    <div class="modal fade" id="businessModal" tabindex="-1" aria-labelledby="businessModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="businessModalLabel">Add/Edit Business</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="businessForm">
                        <input type="hidden" id="businessCodeOriginal" value="">
                        <div class="mb-3">
                            <label for="businessCode" class="form-label">Business Code <span class="text-danger">*</span></label>
                            <input type="text" class="form-control" id="businessCode" required placeholder="e.g., TIER1-BIZ001">
                            <small class="form-text text-muted">Required: A unique identifier for this business</small>
                        </div>
                        <div class="mb-3">
                            <label for="businessName" class="form-label">Business Name</label>
                            <input type="text" class="form-control" id="businessName" required placeholder="e.g., Route 68, Grand Senora Desert">
                        </div>
                        <div class="mb-3">
                            <label for="businessNotes" class="form-label">
                                Notes
                                <span class="text-muted" style="cursor: help;" title="Use this field to remember which business this is, such as employee names or other identifying information. This helps you easily identify businesses when tracking multiple locations." data-bs-toggle="tooltip" data-bs-placement="right">‚ÑπÔ∏è</span>
                            </label>
                            <textarea class="form-control" id="businessNotes" rows="2" placeholder="e.g., Employee: John Smith, or Location notes..."></textarea>
                            <small class="form-text text-muted">Optional: Add notes to help remember which business this is (e.g., employee names)</small>
                        </div>
                        <div class="mb-3">
                            <label for="businessTierId" class="form-label">Tier</label>
                            <select class="form-select" id="businessTierId" required>
                                <option value="">Select a tier...</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label for="businessStatus" class="form-label">Status</label>
                            <select class="form-select" id="businessStatus">
                                <option value="Open">Open</option>
                                <option value="Closed">Closed</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label for="businessMaxStock" class="form-label">Max Stock</label>
                            <input type="text" class="form-control number-input" id="businessMaxStock" value="0" placeholder="0">
                        </div>
                        <div class="mb-3">
                            <label for="businessCollectionStorage" class="form-label">Collection Storage</label>
                            <input type="text" class="form-control number-input" id="businessCollectionStorage" value="0" placeholder="0">
                        </div>
                        <div class="mb-3 form-check">
                            <input type="checkbox" class="form-check-input" id="businessCanCollectItems">
                            <label class="form-check-label" for="businessCanCollectItems">Can Collect Items</label>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" onclick="saveBusiness()">Save Business</button>
                    <button type="button" class="btn btn-danger" id="deleteBusinessBtn" onclick="deleteBusiness()" style="display: none;">Delete Business</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Import Modal -->
    <div class="modal fade" id="importModal" tabindex="-1" aria-labelledby="importModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="importModalLabel">Import Configuration</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="alert alert-warning">
                        <strong>Warning:</strong> Importing will replace your current configuration. Make sure to export your current config first!
                    </div>
                    <div class="mb-3">
                        <label for="importTextarea" class="form-label">Paste JSON Configuration:</label>
                        <textarea class="form-control" id="importTextarea" rows="10" placeholder='{"tiers": [...], "businesses": [...]}'></textarea>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" onclick="importConfiguration()">Import</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Export/Person Table Modal -->
    <div class="modal fade" id="exportModal" tabindex="-1" aria-labelledby="exportModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exportModalLabel">Export / Person Table String</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="mb-3">
                        <button type="button" class="btn btn-sm btn-secondary" onclick="copyToClipboard('exportTextarea')">üìã Copy to Clipboard</button>
                    </div>
                    <div class="mb-3">
                        <label for="exportTextarea" class="form-label">Generated String:</label>
                        <textarea class="form-control" id="exportTextarea" rows="15" readonly></textarea>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-light py-3">
        <div class="container text-center">
            <div id="version-display" class="mt-2" style="font-size: 0.875rem; color: #6c757d;">
                <!-- Version will be inserted here by site-config.js -->
            </div>
        </div>
    </footer>

    <!-- Bootstrap JS -->
    <script src="js/bootstrap.bundle.min.js"></script>
    <!-- Site Configuration & Version Manager (load in order) -->
    <script src="js/config/config-data.js"></script>
    <script src="js/config/site-config.js"></script>
    <script src="js/config/version-manager.js"></script>
    <script src="js/site-config.js"></script>
    <!-- Navbar Manager -->
    <script src="js/navbar.js"></script>
    <!-- Theme JS -->
    <script src="js/theme.js"></script>
    <!-- Number Formatter (optional) -->
    <script>
        // Load number-formatter.js if available
        (function() {
            const script = document.createElement('script');
            script.src = 'js/number-formatter.js';
            script.onerror = function() {
                console.warn('number-formatter.js not found, continuing without it');
            };
            document.head.appendChild(script);
        })();
    </script>
    <!-- Checklist JS - Modular Scripts -->
    <script src="js/debug-manager.js"></script>
    <script src="js/pages/checklist/checklist-shared.js"></script>
    <script src="js/pages/checklist/checklist-core.js"></script>
    <script src="js/pages/checklist/checklist-ui.js"></script>
    <script src="js/pages/checklist/checklist-summary.js"></script>
    <script src="js/pages/checklist/checklist-modals.js"></script>
    <script src="js/pages/checklist/emoji-picker.js"></script>
    <script src="js/pages/checklist/checklist-init.js"></script>
</body>
</html>
